{"version":3,"sources":["components/SearchBar.js","components/Crosses/TableTools.js","components/Crosses/CrossesList.js","components/Crosses/TableContainer.js","components/Crosses/InsertCrossModal.js","containers/Crosses.js"],"names":["SearchBar","className","type","autoComplete","name","id","this","props","placeholder","onKeyUp","children","Component","TableTools","onClick","turnPage","disabled","value","currentPage","onChange","updateNumOfItems","CrossesList","itemsPerPage","crosses","slice","map","cross","CROSS_ID","key","COMPETITOR_PART","GENERIC","COMPETITOR","BRAND","direct","comments","TableContainer","length","InsertCrossModal","state","competitors","manufacturers","selectedCompetitor","competitorPart","selectedPrincipal","principalPart","recordChange","e","obj","target","setState","validateForm","classList","add","remove","insertCross","body","FormData","append","fetch","method","then","res","json","catch","error","alert","response","success","updateTable","hide","comps","mfgs","competitor_id","brand_id","Modal","dialogClassName","show","onHide","centered","ModalHeader","closeButton","ModalTitle","ModalBody","htmlFor","element","competitor_name","onBlur","aria-describedby","brand_name","rows","React","Crosses","input","updateInput","loadCrosses","changeNumOfItemsPerPage","parseInt","displayInsertModal","url","document","getElementById","title","dir","Math","ceil","isLogged","showModal"],"mappings":"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","file":"static/js/3.ebd6ee28.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport \"../styles/searchbar.css\"\r\nclass SearchBar extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"col-md-8 col-10 searchbar\">\r\n                <input type=\"text\" className=\"form-control\" autoComplete=\"off\" name=\"name\" id={this.props.id}\r\n                    placeholder={this.props.placeholder} onKeyUp={this.props.onKeyUp} />\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport default SearchBar;","import React, { Component } from 'react';\r\nimport \"../../styles/tableTools.css\"\r\nclass TableTools extends Component {\r\n    render() {\r\n        return (\r\n            <div id=\"tableTools\">\r\n                <div id=\"pageContainer\">\r\n                    <div className=\"leftTriangle\" id=\"previousPage\" onClick={()=>{this.props.turnPage(-1)}}></div>\r\n                    <input type=\"text\" name=\"page\" className=\"form-control disable-selection\" id=\"pageNumber\" disabled value={this.props.currentPage} />\r\n                    <div className=\"rightTriangle\" id=\"nextPage\" onClick={()=>{this.props.turnPage(1)}}></div>\r\n                </div>\r\n\r\n                <select className=\"form-control\" id=\"itemsPerPage\" onChange={this.props.updateNumOfItems}>\r\n                    <option>10</option>\r\n                    <option>25</option>\r\n                    <option>50</option>\r\n                </select>\r\n\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport default TableTools;","import React, { Component } from 'react';\r\n\r\nclass CrossesList extends Component {\r\n    render() {\r\n        const { currentPage, itemsPerPage, crosses } = this.props;\r\n\r\n        return (\r\n            <tbody id=\"tableBody\">\r\n                {\r\n                    crosses.slice(itemsPerPage * (currentPage - 1), itemsPerPage * (currentPage)).map(cross => {\r\n                        return (\r\n                            <tr id={cross.CROSS_ID} key={cross.COMPETITOR_PART+\",\"+cross.GENERIC}>\r\n                                <td>{cross.COMPETITOR}</td>\r\n                                <td>{cross.COMPETITOR_PART}</td>\r\n                                <td>{cross.BRAND}</td>\r\n                                <td>{cross.GENERIC}</td>\r\n                                <td>{cross.direct}</td>\r\n                                <td>{cross.comments}</td>\r\n                            </tr>\r\n                        );\r\n                    })\r\n            }\r\n            </tbody>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport default CrossesList;","\r\nimport React, { Component } from 'react';\r\nimport CrossesList from './CrossesList';\r\nimport \"../../styles/crosses.css\"\r\nclass TableContainer extends Component {\r\n    render() {\r\n        return (this.props.crosses.length)? (\r\n            <div id=\"tableContainer\">\r\n                <table id=\"tableCrosses\">\r\n                    <thead>\r\n                        <tr className=\"firstRow\">\r\n                            <th>Competitor</th>\r\n                            <th>Part Number</th>\r\n                            <th>A&R MFG</th>\r\n                            <th>A&R MPN</th>\r\n                            <th>Direct</th>\r\n                            <th>Comments</th>\r\n                        </tr>\r\n                    </thead>\r\n\r\n\r\n                    <CrossesList\r\n                        currentPage={this.props.currentPage}\r\n                        itemsPerPage={this.props.itemsPerPage}\r\n                        crosses={this.props.crosses} />\r\n\r\n                </table>\r\n\r\n            </div>\r\n        ): <h2 className=\"centered\">No records found...</h2>;\r\n\r\n    }\r\n}\r\n\r\nexport default TableContainer;","import React from 'react';\r\n\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport ModalHeader from \"react-bootstrap/ModalHeader\";\r\nimport ModalBody from \"react-bootstrap/ModalBody\";\r\nimport ModalTitle from \"react-bootstrap/ModalTitle\";\r\n// import \"../styles/employeeModal.css\"\r\n\r\n\r\nclass InsertCrossModal extends React.Component {\r\n    state = {\r\n        competitors: [],\r\n        manufacturers: [],\r\n        selectedCompetitor: \"\",\r\n        competitorPart: \"\",\r\n        selectedPrincipal: \"\",\r\n        principalPart: \"\",\r\n        direct: \"YES\",\r\n        comments: \"\",\r\n    }\r\n\r\n    componentDidMount() {\r\n        let comps, mfgs;\r\n        fetch(\"https://arizoslocal.herokuapp.com/includes/getCompetitors.php\")\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                comps = res;\r\n                this.setState({ competitors: comps, selectedCompetitor: comps[0].competitor_id });\r\n            });\r\n\r\n        fetch(\"https://arizoslocal.herokuapp.com/includes/getPrincipals.php\")\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                mfgs = res;\r\n                this.setState({ manufacturers: mfgs, selectedPrincipal: mfgs[0].brand_id });\r\n            });\r\n\r\n    }\r\n\r\n    recordChange = (e) => {\r\n        let obj = {};\r\n        obj[e.target.id] = e.target.value;\r\n        this.setState(obj);\r\n\r\n        if (e.target.id === \"competitorPart\" || e.target.id === \"principalPart\") {\r\n            this.validateForm(e);\r\n        }\r\n    }\r\n\r\n    validateForm = (e) => {\r\n        if (e.target.value === \"\") {\r\n            e.target.classList.add(\"redBorder\");\r\n        } else {\r\n            e.target.classList.remove(\"redBorder\");\r\n        }\r\n    }\r\n\r\n    insertCross = (e) => {\r\n        if (this.state.competitorPart === \"\" || this.state.selectedCompetitor === \"\" || this.state.direct === \"\" ||\r\n            this.state.selectedPrincipal === \"\" || this.state.principalPart === \"\") {\r\n            alert(\"Error. Something went Wrong\");\r\n            return;\r\n        }\r\n\r\n\r\n        let body = new FormData();\r\n\r\n        body.append('comp_id', this.state.selectedCompetitor);\r\n        body.append('comp_model', this.state.competitorPart);\r\n        body.append('brnd_id', this.state.selectedPrincipal);\r\n        body.append('brnd_model', this.state.principalPart);\r\n        body.append('direct', this.state.direct);\r\n        body.append('comments', this.state.comments);\r\n\r\n\r\n        fetch(\"https://arizoslocal.herokuapp.com/includes/insertCrossP.php\", {\r\n            method: \"POST\",\r\n            body: body\r\n        })\r\n            .then(res => res.json())\r\n            .catch(error => alert(\"something went wrong. :(\"))\r\n            .then(response =>{\r\n                if(response.success){\r\n                    alert(response.success);\r\n                    this.props.updateTable();\r\n                } else if(response.error){\r\n                    alert(response.error);\r\n                }\r\n\r\n                this.props.hide();\r\n            });\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Modal\r\n                dialogClassName='custom-dialog'\r\n                show={this.props.show}\r\n                onHide={this.props.hide}\r\n                id=\"insertCrossModal\"\r\n                centered>\r\n\r\n                <ModalHeader closeButton>\r\n                    <ModalTitle>Insert Cross</ModalTitle>\r\n                </ModalHeader>\r\n\r\n                <ModalBody>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"compSelect\">Competitor:</label>\r\n\r\n                        <select name=\"competitor\" className=\"custom-select\" id=\"selectedCompetitor\" onChange={this.recordChange}>\r\n                            {this.state.competitors.map(\r\n                                element => <option key={element.competitor_id} value={element.competitor_id}>{element.competitor_name}</option>\r\n                            )}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"row form-group\">\r\n                        <div className=\"col-12\">\r\n                            <input type=\"text\" name=\"nombreR\" id=\"competitorPart\" className=\"form-control\"\r\n                                onKeyUp={this.recordChange} onBlur={this.validateForm}\r\n                                placeholder=\"Competitor's Part Number...\" aria-describedby=\"helpId\" />\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"compSelect\">A&R Manufacturer:</label>\r\n                        <select\r\n                            onChange={this.recordChange}\r\n                            name=\"principal\" className=\"custom-select\" id=\"selectedPrincipal\">\r\n                            {this.state.manufacturers.map(\r\n                                element => <option key={element.brand_id} value={element.brand_id}>{element.brand_name}</option>\r\n                            )}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"row form-group\">\r\n                        <div className=\"col-12\">\r\n                            <input type=\"text\" name=\"nombreR\" id=\"principalPart\" className=\"form-control\"\r\n                                placeholder=\"AR Manufacturer's Part Number...\" aria-describedby=\"helpId\"\r\n                                onKeyUp={this.recordChange} onBlur={this.validateForm} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"directCross\">Direct:</label>\r\n                        <select name=\"direct\" className=\"custom-select\" onChange={this.recordChange} id=\"direct\">\r\n                            <option value=\"YES\">Yes</option>\r\n                            <option value=\"NO\">No</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"comments\">Comments</label>\r\n                        <textarea className=\"form-control\" onKeyUp={this.recordChange} id=\"comments\" rows=\"2\"></textarea>\r\n                    </div>\r\n\r\n                    {(this.state.competitorPart !== \"\" && this.state.principalPart !== \"\") ? <button className=\"btn btn-AR col-3\"\r\n                        id=\"sendReg\" onClick={this.insertCross}>Send</button> : <button disabled className=\"btn btn-AR col-3\"\r\n                            id=\"sendReg\">Send</button>}\r\n\r\n                </ModalBody>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default InsertCrossModal;","import React, { Component } from 'react';\r\nimport SearchBar from '../components/SearchBar';\r\nimport TableTools from '../components/Crosses/TableTools';\r\nimport TableContainer from '../components/Crosses/TableContainer';\r\nimport InsertCrossModal from '../components/Crosses/InsertCrossModal'\r\n\r\nclass Crosses extends Component {\r\n    state = {\r\n        crosses: [],\r\n        input: \"\",\r\n        itemsPerPage: 10,\r\n        currentPage: 1,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadCrosses();\r\n        document.title = \"A&R Crosses\"\r\n    }\r\n\r\n    updateInput = (e) => {\r\n        if (e.key === 'Enter') {\r\n            this.loadCrosses(e.target);\r\n            return;\r\n        }\r\n        this.setState({ input: e.target.value });\r\n    }\r\n\r\n    changeNumOfItemsPerPage = (e) => {\r\n        // console.log(e.target.value);\r\n        this.setState({ itemsPerPage: parseInt(e.target.value), currentPage: 1 })\r\n    }\r\n\r\n    turnPage(dir) {\r\n        const { currentPage, crosses, itemsPerPage } = this.state;\r\n\r\n        if (currentPage + dir > Math.ceil(crosses.length / itemsPerPage)\r\n            || currentPage + dir < 1) return;\r\n\r\n\r\n        this.setState({ currentPage: currentPage + dir });\r\n\r\n    }\r\n\r\n    displayInsertModal = () => {\r\n        alert(\"Modal needs to be shown\");\r\n    }\r\n\r\n    loadCrosses = () => {\r\n        let url = \"https://arizoslocal.herokuapp.com/includes/crosses.php\";\r\n        url += (this.state.input !== \"\") ? \"?input=\" + this.state.input : \"\";\r\n        fetch(url, {\r\n            method: 'GET',\r\n        })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                this.setState({ crosses: res, input: \"\", currentPage: 1 });\r\n                document.getElementById(\"searchCrossInput\").value = \"\";\r\n                // console.log(res);\r\n            });\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"crossesComponent\">\r\n                <InsertCrossModal show={this.props.show} updateTable={this.loadCrosses} hide={this.props.hide} />\r\n\r\n                <SearchBar placeholder=\"Search Competitor's Part...\"\r\n                    id=\"searchCrossInput\"\r\n                    onKeyUp={this.updateInput}>\r\n                    <button type=\"button\" className=\"btn\" onClick={this.loadCrosses} id=\"searchButton\">Search</button>\r\n                    <button type=\"button\" className=\"btn\" onClick={() => { this.setState({ input: \"\" }); this.loadCrosses() }} id=\"fullSearchButton\">Full List</button>\r\n                </SearchBar>\r\n\r\n                <TableTools\r\n                    updateNumOfItems={this.changeNumOfItemsPerPage}\r\n                    turnPage={(dir) => { this.turnPage(dir) }}\r\n                    currentPage={this.state.currentPage} />\r\n\r\n                <TableContainer currentPage={this.state.currentPage}\r\n                    itemsPerPage={this.state.itemsPerPage}\r\n                    crosses={this.state.crosses} />\r\n\r\n                {(this.props.isLogged) ? <button className=\"btn btn-AR\" onClick={this.props.showModal} id=\"insertCrossBtn\">Add Cross</button> : (null)}\r\n\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport default Crosses;"],"sourceRoot":""}