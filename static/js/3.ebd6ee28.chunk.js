(this["webpackJsonpar-site"]=this["webpackJsonpar-site"]||[]).push([[3],{69:function(e,t,a){"use strict";var r=a(6),n=a(7),s=a(9),o=a(8),c=a(0),l=a.n(c),i=(a(70),function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"col-md-8 col-10 searchbar"},l.a.createElement("input",{type:"text",className:"form-control",autoComplete:"off",name:"name",id:this.props.id,placeholder:this.props.placeholder,onKeyUp:this.props.onKeyUp}),this.props.children)}}]),a}(c.Component));t.a=i},70:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var r=a(6),n=a(7),s=a(9),o=a(8),c=a(0),l=a.n(c),i=a(69),m=(a(76),function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"tableTools"},l.a.createElement("div",{id:"pageContainer"},l.a.createElement("div",{className:"leftTriangle",id:"previousPage",onClick:function(){e.props.turnPage(-1)}}),l.a.createElement("input",{type:"text",name:"page",className:"form-control disable-selection",id:"pageNumber",disabled:!0,value:this.props.currentPage}),l.a.createElement("div",{className:"rightTriangle",id:"nextPage",onClick:function(){e.props.turnPage(1)}})),l.a.createElement("select",{className:"form-control",id:"itemsPerPage",onChange:this.props.updateNumOfItems},l.a.createElement("option",null,"10"),l.a.createElement("option",null,"25"),l.a.createElement("option",null,"50")))}}]),a}(c.Component)),u=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){var e=this.props,t=e.currentPage,a=e.itemsPerPage,r=e.crosses;return l.a.createElement("tbody",{id:"tableBody"},r.slice(a*(t-1),a*t).map((function(e){return l.a.createElement("tr",{id:e.CROSS_ID,key:e.COMPETITOR_PART+","+e.GENERIC},l.a.createElement("td",null,e.COMPETITOR),l.a.createElement("td",null,e.COMPETITOR_PART),l.a.createElement("td",null,e.BRAND),l.a.createElement("td",null,e.GENERIC),l.a.createElement("td",null,e.direct),l.a.createElement("td",null,e.comments))})))}}]),a}(c.Component),p=(a(77),function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){return this.props.crosses.length?l.a.createElement("div",{id:"tableContainer"},l.a.createElement("table",{id:"tableCrosses"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"firstRow"},l.a.createElement("th",null,"Competitor"),l.a.createElement("th",null,"Part Number"),l.a.createElement("th",null,"A&R MFG"),l.a.createElement("th",null,"A&R MPN"),l.a.createElement("th",null,"Direct"),l.a.createElement("th",null,"Comments"))),l.a.createElement(u,{currentPage:this.props.currentPage,itemsPerPage:this.props.itemsPerPage,crosses:this.props.crosses}))):l.a.createElement("h2",{className:"centered"},"No records found...")}}]),a}(c.Component)),d=a(35),h=a(21),f=a(20),g=a(22),E=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={competitors:[],manufacturers:[],selectedCompetitor:"",competitorPart:"",selectedPrincipal:"",principalPart:"",direct:"YES",comments:""},e.recordChange=function(t){var a={};a[t.target.id]=t.target.value,e.setState(a),"competitorPart"!==t.target.id&&"principalPart"!==t.target.id||e.validateForm(t)},e.validateForm=function(e){""===e.target.value?e.target.classList.add("redBorder"):e.target.classList.remove("redBorder")},e.insertCross=function(t){if(""!==e.state.competitorPart&&""!==e.state.selectedCompetitor&&""!==e.state.direct&&""!==e.state.selectedPrincipal&&""!==e.state.principalPart){var a=new FormData;a.append("comp_id",e.state.selectedCompetitor),a.append("comp_model",e.state.competitorPart),a.append("brnd_id",e.state.selectedPrincipal),a.append("brnd_model",e.state.principalPart),a.append("direct",e.state.direct),a.append("comments",e.state.comments),fetch("https://arizoslocal.herokuapp.com/includes/insertCrossP.php",{method:"POST",body:a}).then((function(e){return e.json()})).catch((function(e){return alert("something went wrong. :(")})).then((function(t){t.success?(alert(t.success),e.props.updateTable()):t.error&&alert(t.error),e.props.hide()}))}else alert("Error. Something went Wrong")},e}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=this;fetch("https://arizoslocal.herokuapp.com/includes/getCompetitors.php").then((function(e){return e.json()})).then((function(t){e=t,a.setState({competitors:e,selectedCompetitor:e[0].competitor_id})})),fetch("https://arizoslocal.herokuapp.com/includes/getPrincipals.php").then((function(e){return e.json()})).then((function(e){t=e,a.setState({manufacturers:t,selectedPrincipal:t[0].brand_id})}))}},{key:"render",value:function(){return l.a.createElement(d.a,{dialogClassName:"custom-dialog",show:this.props.show,onHide:this.props.hide,id:"insertCrossModal",centered:!0},l.a.createElement(h.a,{closeButton:!0},l.a.createElement(g.a,null,"Insert Cross")),l.a.createElement(f.a,null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"compSelect"},"Competitor:"),l.a.createElement("select",{name:"competitor",className:"custom-select",id:"selectedCompetitor",onChange:this.recordChange},this.state.competitors.map((function(e){return l.a.createElement("option",{key:e.competitor_id,value:e.competitor_id},e.competitor_name)})))),l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-12"},l.a.createElement("input",{type:"text",name:"nombreR",id:"competitorPart",className:"form-control",onKeyUp:this.recordChange,onBlur:this.validateForm,placeholder:"Competitor's Part Number...","aria-describedby":"helpId"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"compSelect"},"A&R Manufacturer:"),l.a.createElement("select",{onChange:this.recordChange,name:"principal",className:"custom-select",id:"selectedPrincipal"},this.state.manufacturers.map((function(e){return l.a.createElement("option",{key:e.brand_id,value:e.brand_id},e.brand_name)})))),l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-12"},l.a.createElement("input",{type:"text",name:"nombreR",id:"principalPart",className:"form-control",placeholder:"AR Manufacturer's Part Number...","aria-describedby":"helpId",onKeyUp:this.recordChange,onBlur:this.validateForm}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"directCross"},"Direct:"),l.a.createElement("select",{name:"direct",className:"custom-select",onChange:this.recordChange,id:"direct"},l.a.createElement("option",{value:"YES"},"Yes"),l.a.createElement("option",{value:"NO"},"No"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"comments"},"Comments"),l.a.createElement("textarea",{className:"form-control",onKeyUp:this.recordChange,id:"comments",rows:"2"})),""!==this.state.competitorPart&&""!==this.state.principalPart?l.a.createElement("button",{className:"btn btn-AR col-3",id:"sendReg",onClick:this.insertCross},"Send"):l.a.createElement("button",{disabled:!0,className:"btn btn-AR col-3",id:"sendReg"},"Send")))}}]),a}(l.a.Component),b=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={crosses:[],input:"",itemsPerPage:10,currentPage:1},e.updateInput=function(t){"Enter"!==t.key?e.setState({input:t.target.value}):e.loadCrosses(t.target)},e.changeNumOfItemsPerPage=function(t){e.setState({itemsPerPage:parseInt(t.target.value),currentPage:1})},e.displayInsertModal=function(){alert("Modal needs to be shown")},e.loadCrosses=function(){var t="https://arizoslocal.herokuapp.com/includes/crosses.php";t+=""!==e.state.input?"?input="+e.state.input:"",fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({crosses:t,input:"",currentPage:1}),document.getElementById("searchCrossInput").value=""}))},e}return Object(n.a)(a,[{key:"componentDidMount",value:function(){this.loadCrosses(),document.title="A&R Crosses"}},{key:"turnPage",value:function(e){var t=this.state,a=t.currentPage,r=t.crosses,n=t.itemsPerPage;a+e>Math.ceil(r.length/n)||a+e<1||this.setState({currentPage:a+e})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"crossesComponent"},l.a.createElement(E,{show:this.props.show,updateTable:this.loadCrosses,hide:this.props.hide}),l.a.createElement(i.a,{placeholder:"Search Competitor's Part...",id:"searchCrossInput",onKeyUp:this.updateInput},l.a.createElement("button",{type:"button",className:"btn",onClick:this.loadCrosses,id:"searchButton"},"Search"),l.a.createElement("button",{type:"button",className:"btn",onClick:function(){e.setState({input:""}),e.loadCrosses()},id:"fullSearchButton"},"Full List")),l.a.createElement(m,{updateNumOfItems:this.changeNumOfItemsPerPage,turnPage:function(t){e.turnPage(t)},currentPage:this.state.currentPage}),l.a.createElement(p,{currentPage:this.state.currentPage,itemsPerPage:this.state.itemsPerPage,crosses:this.state.crosses}),this.props.isLogged?l.a.createElement("button",{className:"btn btn-AR",onClick:this.props.showModal,id:"insertCrossBtn"},"Add Cross"):null)}}]),a}(c.Component);t.default=b}}]);
//# sourceMappingURL=3.ebd6ee28.chunk.js.map